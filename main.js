(this.webpackJsonpchirpty=this.webpackJsonpchirpty||[]).push([[0],{29:function(e,t,a){e.exports=a(67)},34:function(e,t,a){},35:function(e,t,a){},40:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(22),c=a.n(l),s=(a(34),a(3)),o=(a(35),a(4)),i=a(7),m=function(){return r.a.createElement("div",{className:"pb-5 text-center"},r.a.createElement("a",{href:"https://twitter.com/duiker101?ref_src=twsrc%5Etfw",className:"twitter-follow-button mr-4","data-show-count":"false"},"@Duiker101"),r.a.createElement(i.b,{to:"/faq",className:"mr-4"},"FAQ"),r.a.createElement("a",{href:"https://blog.hackertyper.net",className:"mr-4"},"Blog"),r.a.createElement("script",{async:!0,src:"https://platform.twitter.com/widgets.js",charSet:"utf-8"}),r.a.createElement(i.b,{to:"/privacy"},"Privacy Policy"))},u=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(o.f)(),u=Object(n.useState)(null),f=Object(s.a)(u,2),d=f[0],h=f[1],p=Object(n.useState)(!1),E=Object(s.a)(p,2),b=E[0],v=E[1],y=!1;"1"===new URLSearchParams(window.location.search).get("error")&&(y=!0),Object(n.useEffect)((function(){fetch("https://api.npoint.io/6204319406a7d0390355").then((function(e){return e.json()})).then((function(e){h(e.slots),0===e.slots&&e.premium>0&&v(!0)})).catch((function(e){return h(0)}))}),[]);return r.a.createElement("div",{className:"text-center align-items-center d-flex justify-content-center fh flex-column "},r.a.createElement("div",{className:"flex-fill"}),r.a.createElement("div",null,r.a.createElement("h1",null,"Chirpty"),r.a.createElement("p",null,"Create your own Twitter interaction circle"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),e.stopPropagation();var t=a.replace("@","").replace(/\s/g,"");d&&t&&t.length>0&&c.push("/user/"+t)}},r.a.createElement("div",{className:"input-group mb-4"},r.a.createElement("span",{className:"input-group-text",id:"inputGroupPrepend3"},"@"),r.a.createElement("input",{className:"form-control",value:a,onChange:function(e){l(e.target.value)},placeholder:"Username"})),r.a.createElement("button",{disabled:null===d||0===d,className:"btn btn-lg btn-primary btn-block mt-4 "+(null===d||0===d?"disabled":""),type:"submit"},"Generate"))),r.a.createElement("div",{className:"flex-fill"}),y&&r.a.createElement("div",{className:"m-auto col-10 col-sm-6 col-lg-4 text-center"},r.a.createElement("div",{className:"alert alert-danger font-weight-bold"},"We could not process your purchase at this time! ",r.a.createElement("br",null),"Try again later")),null===d&&r.a.createElement("div",{className:"text-center"},"Loading slots..."),0===d&&r.a.createElement("div",{className:"m-auto col-10 col-sm-6 col-lg-4 text-center flex-fill"},r.a.createElement("div",{className:"alert alert-warning font-weight-bold"},"No more slots available right now! ",r.a.createElement("br",null),"More become available every 15 minutes!"),b&&r.a.createElement(i.b,{className:"btn btn-lg btn-primary",to:"/hopper"},"Skip the wait for $0.99")),(d||0)>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("b",null,"Free slots:")," ",null!==d&&void 0!==d?d:"..."),r.a.createElement("div",null,"More every 15 minutes!"))),r.a.createElement("div",{className:"flex-fill"}),r.a.createElement(m,null))},f=(a(40),a(24)),d=function(e){var t=e.data;return r.a.createElement("div",{className:"d-flex"},t.map((function(e,t){return r.a.createElement("div",{key:"layer"+t,className:"col-4"},r.a.createElement("h3",null,"Circle ",t+1),e.map((function(e){return r.a.createElement("div",{key:e.screen_name},r.a.createElement("a",{href:"https://twitter.com/"+e.screen_name,rel:"noopener noreferrer",target:"_blank"},"@",e.screen_name))})))})))},h=a(12),p=a(25),E=a(17),b=a(11),v=function(e){var t=e.data,a=e.user,l=e.onRender,c=e.color,o=Object(n.useRef)(null),i=Object(n.useState)(!1),m=Object(s.a)(i,2),u=m[0],f=m[1],d=Object(n.useState)({}),v=Object(s.a)(d,2),y=v[0],g=v[1];return Object(n.useEffect)((function(){if(0!==t.length)for(var e=0,n=[a].concat(Object(b.a)(t[0]),Object(b.a)(t[1]),Object(b.a)(t[2])).length,r=0,l=[[a]].concat(Object(b.a)(t));r<l.length;r++){var c,s=l[r],o=Object(E.a)(s);try{var i=function(){var t=c.value,a=new Image;a.src="data:image/png;base64, "+t.avatar,a.onload=function(){e++,g((function(e){return Object(p.a)({},e,Object(h.a)({},t.screen_name,a))})),e===n&&f(!0)},a.onerror=function(t){e===n&&f(!0),e++,console.error(t)}};for(o.s();!(c=o.n()).done;)i()}catch(m){o.e(m)}finally{o.f()}}}),[t]),Object(n.useEffect)((function(){if(t&&0!==t.length&&o.current){var e=o.current.getContext("2d");if(e){var n=[8,15,26],r=[{distance:0,count:1,radius:110,users:[a]},{distance:200,count:n[0],radius:64,users:t[0]},{distance:330,count:n[1],radius:58,users:t[1]},{distance:440,count:n[2],radius:45,users:t[2]}];e.fillStyle=c,e.fillRect(0,0,1e3,1e3);var i,m=Object(E.a)(r.entries());try{for(m.s();!(i=m.n()).done;){for(var u=Object(s.a)(i.value,2),f=u[0],d=u[1],h=d.count,p=d.radius,b=d.distance,v=d.users,g=360/h,w=0;w<h;w++){var j=(w*g+35*f)*(Math.PI/180),N=Math.cos(j)*b+500,O=Math.sin(j)*b+500;if(v[w]&&y[v[w].screen_name]){e.save(),e.beginPath(),e.arc(N,O,p,0,2*Math.PI),e.clip();var x=y[v[w].screen_name];e.drawImage(x,N-p,O-p,2*p,2*p),e.restore()}}e.fillStyle="white",e.strokeStyle="black",e.font="bold 30px sans-serif",e.fillText("chirpty.com",820,980),e.strokeText("chirpty.com",820,980),l(o.current.toDataURL("image/jpg"))}}catch(k){m.e(k)}finally{m.f()}}}}),[u,c]),r.a.createElement("canvas",{ref:o,width:1e3,height:1e3})},y=function(e){var t=e.name;return r.a.createElement("div",{className:"m-auto fh d-flex align-items-center justify-content-center"},r.a.createElement("div",{className:"alert alert-info text-center"},r.a.createElement("p",null,"Loading ",r.a.createElement("b",null,"@",t,"...")),r.a.createElement("p",null,"Hold tight, this might take a minute")))},g=function(e){var t=e.error;return r.a.createElement("div",{className:"m-auto fh d-flex align-items-center justify-content-center"},r.a.createElement("div",{className:"alert alert-danger text-center"},r.a.createElement("p",null,t),r.a.createElement(i.b,{to:"/"},"Go to homepage")))},w=function(){var e=Object(o.g)().screen_name,t=(Object(o.f)(),Object(n.useState)([])),a=Object(s.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(null),m=Object(s.a)(i,2),u=m[0],h=m[1],p=Object(n.useState)(null),E=Object(s.a)(p,2),b=E[0],w=E[1],j=Object(n.useState)("#C5EDCE"),N=Object(s.a)(j,2),O=N[0],x=N[1],k=Object(n.useState)(null),C=Object(s.a)(k,2),S=C[0],_=C[1];Object(n.useEffect)((function(){w(null),fetch("/api/circle?screen_name="+e).then((function(e){return e.json()})).then((function(e){e.error?w(e.error):e.user.not_found?w("User not found"):e.user.is_private?w("User is private"):(h(e.user),c(null===e||void 0===e?void 0:e.data))}))}),[]);var I=!!b,P=!u&&!b,T=!!u&&!b;return r.a.createElement("div",{className:"result fh"},P&&r.a.createElement(y,{name:e}),I&&r.a.createElement(g,{error:b||"Unknown error"}),null!==u&&T&&r.a.createElement("div",{className:"p-2 m-auto"},r.a.createElement("div",{className:"d-flex flex-column justify-content-center mb-4"},r.a.createElement("div",{className:"d-flex align-items-center justify-content-between mb-4"},r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement("input",{type:"color",value:O,onChange:function(e){x(e.target.value)},className:"mr-2"}),r.a.createElement("div",null,"Background Color")),r.a.createElement("button",{disabled:!S,onClick:function(){S&&Object(f.saveAs)(S,"chirpty_"+e+".png")},className:"btn btn-primary btn-lg"},"Save Image")),r.a.createElement(v,{color:O,user:u,data:l,onRender:_})),r.a.createElement(d,{data:l})))},j=function(){return r.a.createElement("div",{className:"container mt-5"},r.a.createElement("div",{className:"col-10 col-lg-6 m-auto"},r.a.createElement("h1",null,"Privacy Policy"),r.a.createElement("h3",null,"Information Collected"),r.a.createElement("p",null,"For the purpose of running the service, only a Twitter username will be collected."),r.a.createElement("p",null,"The service will fetch the user's Twitter public timeline and count the users they interacted with the most. No private data is accessed."),r.a.createElement("p",null,"After the generation of the image, the data will be cached for up to 24 hours, after which, it will be permanently deleted."),r.a.createElement("h3",null,"Cookies"),r.a.createElement("p",null,"The website does not use cookies."),r.a.createElement("h3",null,"Logged data"),r.a.createElement("p",null,"The website does not log data about its users or let them login. It does not store your IP."),r.a.createElement("h3",null,"Contacts"),r.a.createElement("p",null,"If you need further assistance, please contact us at simone@masiero.io"),r.a.createElement("h3",null,"Payments"),r.a.createElement("p",null,"We collect payments via Gumroad. Read more on Gumroad's ",r.a.createElement("a",{href:"https://gumroad.com/privacy"},"Privacy Policy"),". After the payment is processed, we store the sale ID and your email to verify the purchase. ",r.a.createElement("br",null),"Your email will be used exclusively for providing customer support.")))},N=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!0),o=Object(s.a)(c,2),i=o[0],u=o[1];Object(n.useEffect)((function(){u(0===a.length||/^([a-zA-Z0-9_])+$/.test(a))}),[a]);var f=function(){localStorage.setItem("requested_username",a),window.location.href="/api/verify_limit?screen_name="+a};return r.a.createElement("div",{className:"text-center align-items-center d-flex justify-content-center fh flex-column m-auto col-10 col-sm-6 col-lg-4"},r.a.createElement("div",{className:"flex-fill"}),r.a.createElement("div",null,r.a.createElement("h1",null,"Chirpty Hopper"),r.a.createElement("p",null,"Get your #chirpty ",r.a.createElement("b",null,"now!")),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),0!==a.length&&i?window.confirm("Confirm this is the username to use: @"+a)&&f():u(!1)}},r.a.createElement("div",{className:"input-group mb-4"},r.a.createElement("span",{className:"input-group-text",id:"inputGroupPrepend3"},"@"),r.a.createElement("input",{type:"text",className:"form-control "+(i?"":"is-invalid"),value:a,onChange:function(e){return l(e.target.value)},id:"validationServerUsername","aria-describedby":"inputGroupPrepend3",required:!0}),!i&&r.a.createElement("div",{className:"invalid-feedback"},"Invalid username")),r.a.createElement("p",null,"Make sure this username is the ",r.a.createElement("b",null,"correct")," one you want to use!"),r.a.createElement("p",{className:"font-weight-bold"},"Do NOT scan private profiles!"),r.a.createElement("button",{className:"btn btn-lg btn-primary btn-block my-4",type:"submit"},"Hop the wait! $0.99"))),r.a.createElement("div",{className:"flex-fill"}),r.a.createElement(m,null))},O=a(26),x=function(e){var t=e.onBind,a=Object(n.useState)(""),l=Object(s.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)(!0),m=Object(s.a)(i,2),u=m[0],f=m[1];Object(n.useEffect)((function(){f(0===c.length||/^([a-zA-Z0-9_])+$/.test(c))}),[c]);return r.a.createElement("div",{className:"text-center align-items-center d-flex justify-content-center fh flex-column m-auto col-10 col-sm-6 col-lg-4"},r.a.createElement("div",{className:"flex-fill"}),r.a.createElement("div",null,r.a.createElement("p",null,"Please confirm the user to retrieve"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),0!==c.length&&u?window.confirm("Confirm this is the username to use: @"+c)&&t(c,!0):f(!1)}},r.a.createElement("div",{className:"input-group mb-4"},r.a.createElement("span",{className:"input-group-text",id:"inputGroupPrepend3"},"@"),r.a.createElement("input",{type:"text",className:"form-control "+(u?"":"is-invalid"),value:c,onChange:function(e){return o(e.target.value)},id:"validationServerUsername","aria-describedby":"inputGroupPrepend3",required:!0}),!u&&r.a.createElement("div",{className:"invalid-feedback"},"Invalid username")),r.a.createElement("p",null,"Make sure this username is the ",r.a.createElement("b",null,"correct")," one you want to use!"),r.a.createElement("p",{className:"font-weight-bold"},"Do NOT scan private profiles!"),r.a.createElement("button",{className:"btn btn-lg btn-primary btn-block my-4",type:"submit"},"Confirm"))),r.a.createElement("div",{className:"flex-fill"}))},k=function(){var e=Object(o.f)(),t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(!1),m=Object(s.a)(i,2),u=m[0],f=m[1],d=new URLSearchParams(window.location.search),h=encodeURIComponent(d.get("sale_id"));Object(n.useEffect)((function(){var t=0;!function a(){fetch("/api/verify_purchase?sale_id="+h).then((function(e){return e.json()})).then((function(n){if(!0===n.ok)e.push("/user/"+n.screen_name);else{if(n.needs_username){var r=localStorage.getItem("requested_username");return void(r?p(r,!0):f(!0))}(t+=5)<300?setTimeout(a,5e3):c(!0)}}))}()}),[]);var p=function(t,a){f(!1),fetch("/api/bind_username?sale_id=".concat(h,"&screen_name=")+t).then((function(e){return e.json()})).then((function(t){t.ok&&t.screen_name?(localStorage.removeItem("requested_username"),e.push("/user/"+t.screen_name)):a?c(!0):f(!0)})).catch((function(e){a?c(!0):f(!0)}))};return u?r.a.createElement(x,{sale_id:h,onBind:p}):r.a.createElement("div",{className:"text-center align-items-center d-flex justify-content-center fh flex-column "},r.a.createElement("div",{className:"flex-fill"}),r.a.createElement("div",{className:"m-auto col-10 col-sm-6 col-lg-4 text-center"},!l&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"d-flex justify-content-center mb-5"},r.a.createElement(O.CircleLoader,{size:150,color:"blue"})),r.a.createElement("div",{className:"alert alert-info"},"Verifying your purchase. Please wait.",r.a.createElement("br",null),r.a.createElement("b",null,"Don't close this tab."))),!!l&&r.a.createElement("div",{className:"alert alert-danger mt-5"},"There was an issue processing your request. Contact me at"," ",r.a.createElement("a",{href:"mailto:simone@masiero.io"},"simone@masiero.io")," ","or"," ",r.a.createElement("a",{href:"https://twitter.com/duiker101",target:"_blank",rel:"noopener noreferrer"},"@Duiker101"))),r.a.createElement("div",{className:"flex-fill"}))},C=a(28),S=function(e){return Object(C.a)(e),r.a.createElement("div",{className:"container mt-5"},r.a.createElement("div",{className:"col-10 col-lg-6 m-auto"},r.a.createElement("h1",null,"Frequently Asked Questions"),r.a.createElement("h3",null),r.a.createElement("h3",null,"What is Chirpty?"),r.a.createElement("p",null,"Chirpty generates an image that displays the users you interact with the most on Twitter."),r.a.createElement("h3",null,"What does the image look like?"),r.a.createElement("p",null,r.a.createElement("a",{href:"/example.png"},"Here")," you can see an example of the end result"," "),r.a.createElement("h3",null,"Where does the data come from?"),r.a.createElement("p",null,"Chirpty uses only publicly available data from Twitter\u2019s API."),r.a.createElement("h3",null,"Do I need to login to my Twitter account to use Chirpty?"),r.a.createElement("p",null,"No, you do NOT need to login to your Twitter account or give any permissions to use Chirpty. Chirpty only uses publicly available data."),r.a.createElement("h3",null,"Why are there never any free slots?"),r.a.createElement("p",null,"Twitter\u2019s API allows Chirpty to only make a certain number of requests every 15 minutes. To respect this limit, Chirptys are generated on a first-come, first-serve basis as soon as we are allowed to make requests to Twitter\u2019s API. If you\u2019d like to skip the wait, a small number of slots are reserved for Chirpty Hopper."),r.a.createElement("h3",null,"What is Chirpty Hopper?"),r.a.createElement("p",null,"Chirpty Hopper allows you to skip the wait by paying $0.99 to get your image immediately."),r.a.createElement("h3",null,"Does the page refresh on its own? Will I be notified of new slots when they become available?"),r.a.createElement("p",null,"No. You need to refresh the page to check if new slots are available. Every 15 minutes more slots will become available."),r.a.createElement("h3",null,"I have an issue with my purchase, who should I contact?"),r.a.createElement("p",null,"You can reach us on Twitter ",r.a.createElement("a",{href:"https://twitter.com/Duiker101"},"@Duiker101")," or email simone@masiero.io")))},_=function(){return r.a.createElement(i.a,null,r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/user/:screen_name"},r.a.createElement(w,null)),r.a.createElement(o.a,{path:"/privacy"},r.a.createElement(j,null)),r.a.createElement(o.a,{path:"/hopper"},r.a.createElement(N,null)),r.a.createElement(o.a,{path:"/verify"},r.a.createElement(k,null)),r.a.createElement(o.a,{path:"/faq"},r.a.createElement(S,null)),r.a.createElement(o.a,{path:"/"},r.a.createElement(u,null))))};a(66);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(_,null)),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.fbc649c0.chunk.js.map
